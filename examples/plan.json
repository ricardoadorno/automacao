{
  "metadata": {
    "feature": "demo",
    "ticket": "DEMO-1",
    "env": "local"
  },
  "behaviorsPath": "examples/behaviors.json",
  "openapiPath": "examples/openapi.json",
  "steps": [
    {
      "id": "sql",
      "type": "sqlEvidence",
      "config": {
        "sql": {
          "queryPath": "examples/sql/query.sql",
          "resultPath": "examples/sql/result.csv",
          "expectRows": 1
        }
      },
      "exports": {
        "pedidoId": {
          "source": "sql",
          "column": "id"
        }
      }
    },
    {
      "id": "browser",
      "type": "browser",
      "behaviorId": "fill-order",
      "requires": [
        "pedidoId"
      ]
    },
    {
      "id": "swagger",
      "type": "swagger",
      "behaviorId": "swagger-demo",
      "config": {
        "operationId": "getOrder",
        "responseSelector": "#resp"
      },
      "exports": {
        "correlationId": {
          "source": "responseText",
          "jsonPath": "correlationId"
        }
      }
    },
    {
      "id": "cloudwatch",
      "type": "cloudwatch",
      "behaviorId": "cloudwatch-demo",
      "requires": [
        "correlationId"
      ],
      "config": {
        "retries": 1,
        "retryDelayMs": 200
      }
    }
  ]
}
